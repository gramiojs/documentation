---
name: i18n
description: Internationalization with @gramio/i18n — TypeScript-native syntax and Fluent .ftl files, pluralization, and type-safe translations.
---

# I18n Plugin

Package: `@gramio/i18n`

## I18n-in-TS (No codegen needed)

```typescript
import { defineI18n, type LanguageMap, type ShouldFollowLanguage } from "@gramio/i18n";
import { format, bold } from "@gramio/format";

const en = {
    greeting: (name: string) => format`Hello, ${bold(name)}!`,
    items: (count: number) => `You have ${count} item${count === 1 ? "" : "s"}`,
} satisfies LanguageMap;

const ru = {
    greeting: (name: string) => format`Привет, ${bold(name)}!`,
    items: (count: number) => `У вас ${count} предмет${count === 1 ? "" : "ов"}`,
} satisfies ShouldFollowLanguage<typeof en>; // type-safe: must match en keys/signatures

const i18n = defineI18n({
    primaryLanguage: "en",
    languages: { en, ru },
});

// Usage:
i18n.t("en", "greeting", "World");   // string
const t = i18n.buildT("ru");          // curried
t("greeting", "Мир");                 // string
```

### Pluralization Helpers

```typescript
import { pluralizeEnglish, pluralizeRussian } from "@gramio/i18n";

pluralizeEnglish(count, "apple", "apples");
pluralizeRussian(count, "яблоко", "яблока", "яблок");
```

## Fluent Syntax (.ftl files)

```typescript
import { i18n } from "@gramio/i18n/fluent";

bot.extend(
    i18n({
        defaultLocale: "en",
        directory: "locales", // locales/en.ftl, locales/ru.ftl
    })
);

// In handlers:
context.t("hello-user", { userName: "Anna" });
context.setLocale("ru");
```

### Fluent file example (`locales/en.ftl`)

```ftl
hello-user = Hello, {$userName}!
items = You have {$count ->
    [one] {$count} item
    *[other] {$count} items
}
```

### Type-Safe Fluent with fluent2ts

Generate types from .ftl files:

```bash
npx fluent2ts
```

Produces `TypedFluentBundle` for compile-time key/argument checking.

## Type Utilities

```typescript
import type { ExtractLanguages, ExtractArgsParams } from "@gramio/i18n";

type Langs = ExtractLanguages<typeof i18n>;     // "en" | "ru"
type Args = ExtractArgsParams<typeof en, "greeting">; // [name: string]
```

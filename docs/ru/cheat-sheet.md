---
title: –®–ø–∞—Ä–≥–∞–ª–∫–∞ GramIO ‚Äî –ë—ã—Å—Ç—Ä—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ Telegram-–±–æ—Ç–æ–≤
head:
    - - meta
      - name: "description"
        content: "–ë—ã—Å—Ç—Ä—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ GramIO ‚Äî TypeScript-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫—É –¥–ª—è Telegram Bot API. –ö–æ–º–∞–Ω–¥—ã, —Ç—Ä–∏–≥–≥–µ—Ä—ã, –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø–ª–∞–≥–∏–Ω—ã, —Ö—É–∫–∏, guard, derive, i18n, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ –Ω–∞ –æ–¥–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ."
    - - meta
      - name: "keywords"
        content: "GramIO, —à–ø–∞—Ä–≥–∞–ª–∫–∞, –±—ã—Å—Ç—Ä—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫, telegram –±–æ—Ç, TypeScript, –∫–æ–º–∞–Ω–¥—ã, —Ç—Ä–∏–≥–≥–µ—Ä—ã, –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã, —Ö—É–∫–∏, –ø–ª–∞–≥–∏–Ω—ã, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —Å–µ—Å—Å–∏–∏, —Ñ–∞–π–ª—ã, guard, derive, i18n, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ"
---

# –®–ø–∞—Ä–≥–∞–ª–∫–∞

–ë—ã—Å—Ç—Ä—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ —Å–∞–º—ã–º —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º GramIO. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –ª—é–±–æ–π –∑–∞–≥–æ–ª–æ–≤–æ–∫, —á—Ç–æ–±—ã –ø–µ—Ä–µ–π—Ç–∏ –∫ –ø–æ–ª–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

**–ù–∞ —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ:** [–ù–∞—Å—Ç—Ä–æ–π–∫–∞](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞) ¬∑ [–ö–æ–º–∞–Ω–¥—ã](#–∫–æ–º–∞–Ω–¥—ã) ¬∑ [Hears](#hears) ¬∑ [–õ—é–±–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ](#–ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–µ-–ª—é–±—ã—Ö-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–π) ¬∑ [Derive –∏ Decorate](#derive-–∏-decorate) ¬∑ [Guard](#guard) ¬∑ [–ò–Ω–ª–∞–π–Ω –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞](#–∏–Ω–ª–∞–π–Ω-–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞) ¬∑ [Callback Query](#callback-query) ¬∑ [–û–±—ã—á–Ω–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞](#–æ–±—ã—á–Ω–∞—è-–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞) ¬∑ [–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-—Å–æ–æ–±—â–µ–Ω–∏–π) ¬∑ [–§–∞–π–ª—ã](#–æ—Ç–ø—Ä–∞–≤–∫–∞-—Ñ–∞–π–ª–æ–≤) ¬∑ [Session](#session) ¬∑ [Scenes](#scenes-–¥–∏–∞–ª–æ–≥–∏) ¬∑ [I18n](#i18n) ¬∑ [–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫](#–æ–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫) ¬∑ [–•—É–∫–∏](#—Ö—É–∫–∏) ¬∑ [–ü–ª–∞–≥–∏–Ω—ã](#–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–ø–ª–∞–≥–∏–Ω–∞) ¬∑ [–ù–∞–ø–∏—Å–∞—Ç—å –ø–ª–∞–≥–∏–Ω](#–Ω–∞–ø–∏—Å–∞—Ç—å-–ø–ª–∞–≥–∏–Ω) ¬∑ [Inline Query](#inline-query) ¬∑ [Autoload](#autoload-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤) ¬∑ [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ) ¬∑ [Webhook](#webhook)

---

## [–ù–∞—Å—Ç—Ä–æ–π–∫–∞](/ru/get-started)

```bash
npm create gramio my-bot
```

```ts
import { Bot } from "gramio";

const bot = new Bot(process.env.BOT_TOKEN as string);

bot.start();
```

---

## [–ö–æ–º–∞–Ω–¥—ã](/ru/triggers/command)

```ts
bot.command("start", (ctx) => ctx.send("–ü—Ä–∏–≤–µ—Ç!"));

// –° –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏: /say –ø—Ä–∏–≤–µ—Ç –º–∏—Ä ‚Üí ctx.args = "–ø—Ä–∏–≤–µ—Ç –º–∏—Ä"
bot.command("say", (ctx) => ctx.send(ctx.args ?? "–Ω–∏—á–µ–≥–æ"));
```

---

## [Hears](/ru/triggers/hears)

```ts
// –¢–æ—á–Ω–∞—è —Å—Ç—Ä–æ–∫–∞
bot.hears("–ø—Ä–∏–≤–µ—Ç", (ctx) => ctx.send("–ü—Ä–∏–≤–µ—Ç!"));

// Regex ‚Äî ctx.args —Å–æ–¥–µ—Ä–∂–∏—Ç –º–∞—Å—Å–∏–≤ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π
bot.hears(/^hello (.+)/i, (ctx) => ctx.send(`–ü—Ä–∏–≤–µ—Ç, ${ctx.args?.[1]}!`));

// –§—É–Ω–∫—Ü–∏—è-–ø—Ä–µ–¥–∏–∫–∞—Ç
bot.hears(
    (ctx) => ctx.text?.startsWith("?"),
    (ctx) => ctx.send("–í–æ–ø—Ä–æ—Å!"),
);
```

---

## [–ü—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–µ –ª—é–±—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π](/ru/bot-api)

```ts
bot.on("message", (ctx) => ctx.send("–ü–æ–ª—É—á–∏–ª —Ç–≤–æ—ë —Å–æ–æ–±—â–µ–Ω–∏–µ!"));

bot.on(["message", "edited_message"], (ctx) => ctx.send("–ù–æ–≤–æ–µ –∏–ª–∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ!"));
```

---

## [Derive –∏ Decorate](/ru/extend/middleware)

`derive` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ; `decorate` ‚Äî –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ.

```ts
// –ù–∞ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å: –æ–±–æ–≥–∞—â–∞–µ—Ç ctx —Å–≤–µ–∂–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏
const bot = new Bot(token)
    .derive(async (ctx) => ({
        user: await db.getUser(ctx.from?.id),
    }))
    .on("message", (ctx) => {
        ctx.user; // –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–æ ‚úÖ
    });
```

```ts
// –ù–∞ —Ç–∏–ø –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è: —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π
const bot = new Bot(token)
    .derive("message", async (ctx) => ({
        isAdmin: await db.isAdmin(ctx.from.id),
    }))
    .on("message", (ctx) => {
        ctx.isAdmin; // ‚úÖ ‚Äî —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–æ —Ç–æ–ª—å–∫–æ –≤ "message" –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö
    });
```

```ts
// –ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ: –±–µ–∑ –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ –Ω–∞ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å
const bot = new Bot(token)
    .decorate({ db, redis, config })
    .on("message", (ctx) => {
        ctx.db.query("..."); // ‚úÖ ‚Äî –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–∞–∂–¥—ã–π —Ä–∞–∑
    });
```

---

## [Guard](/ru/extend/middleware)

–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ü–µ–ø–æ—á–∫—É middleware, –µ—Å–ª–∏ —É—Å–ª–æ–≤–∏–µ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ. –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ guard –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç.

```ts
// –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π guard –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
const adminOnly = bot.guard(
    (ctx) => ctx.from?.id === ADMIN_ID,
    // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è:
    (ctx) => ctx.send("–¢–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤.")
);

adminOnly.command("ban", (ctx) => ctx.send("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω."));
```

```ts
// –°—É–∂–µ–Ω–∏–µ —Ç–∏–ø–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è ‚Äî —Ñ–∏–ª—å—Ç—Ä –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π —Å —Ç–µ–∫—Å—Ç–æ–º
const textOnly = bot.guard((ctx) => ctx.is("message") && !!ctx.text);

textOnly.on("message", (ctx) => {
    ctx.text; // string ‚Äî —Å—É–∂–µ–Ω guard'–æ–º ‚úÖ
});
```

---

## [–ò–Ω–ª–∞–π–Ω –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞](/ru/keyboards/inline-keyboard)

```ts
import { InlineKeyboard, CallbackData } from "gramio";

// –ü—Ä–æ—Å—Ç—ã–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∫–Ω–æ–ø–∫–∏
const keyboard = new InlineKeyboard()
    .text("–î–∞ ‚úÖ", "yes")
    .text("–ù–µ—Ç ‚ùå", "no")
    .row()
    .url("GitHub", "https://github.com/gramiojs/gramio");

ctx.send("–í—ã–±–µ—Ä–∏—Ç–µ:", { reply_markup: keyboard });
```

```ts
// –¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ callback –¥–∞–Ω–Ω—ã–µ
const actionData = new CallbackData("action").number("id");

ctx.send("–í—ã–±–µ—Ä–∏—Ç–µ:", {
    reply_markup: new InlineKeyboard()
        .text("–ü—É–Ω–∫—Ç 1", actionData.pack({ id: 1 }))
        .text("–ü—É–Ω–∫—Ç 2", actionData.pack({ id: 2 })),
});
```

---

## [Callback Query](/ru/triggers/callback-query)

```ts
// –ü–æ —Å—Ç—Ä–æ–∫–µ
bot.callbackQuery("yes", (ctx) => ctx.editText("–í—ã —Å–∫–∞–∑–∞–ª–∏ –¥–∞!"));

// –¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ CallbackData
const actionData = new CallbackData("action").number("id");

bot.callbackQuery(actionData, (ctx) => {
    ctx.send(`–í—ã –≤—ã–±—Ä–∞–ª–∏ ID: ${ctx.queryData.id}`);
    //                                      ^? number
});
```

---

## [–û–±—ã—á–Ω–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞](/ru/keyboards/keyboard)

```ts
import { Keyboard } from "gramio";

const keyboard = new Keyboard()
    .text("–í–∞—Ä–∏–∞–Ω—Ç –ê")
    .text("–í–∞—Ä–∏–∞–Ω—Ç –ë")
    .row()
    .requestLocation("–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –≥–µ–æ–ª–æ–∫–∞—Ü–∏–µ–π üìç")
    .resized();

ctx.send("–í—ã–±–µ—Ä–∏—Ç–µ:", { reply_markup: keyboard });
```

---

## [–£–¥–∞–ª–∏—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É](/ru/keyboards/remove-keyboard)

```ts
import { RemoveKeyboard } from "gramio";

ctx.send("–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —É–¥–∞–ª–µ–Ω–∞.", { reply_markup: new RemoveKeyboard() });
```

---

## [–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π](/ru/formatting)

```ts
import { format, bold, italic, link, code, pre, spoiler } from "gramio";

ctx.send(format`
    ${bold`–ü—Ä–∏–≤–µ—Ç!`} –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ ${link("GramIO", "https://gramio.dev")}.

    –í–æ—Ç –Ω–µ–º–Ω–æ–≥–æ ${italic`—Å—Ç–∏–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ`} —Ç–µ–∫—Å—Ç–∞ –∏ ${spoiler`—Å—é—Ä–ø—Ä–∏–∑`}.

    ${code("–∏–Ω–ª–∞–π–Ω –∫–æ–¥")} –∏–ª–∏ –±–ª–æ–∫:
    ${pre("const x = 1;", "typescript")}
`);
```

---

## [–û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–∞–π–ª–æ–≤](/ru/files/media-upload)

```ts
import { MediaUpload } from "@gramio/files";

// –° –¥–∏—Å–∫–∞
ctx.sendDocument(await MediaUpload.path("./report.pdf"));

// –ü–æ URL
ctx.sendPhoto(await MediaUpload.url("https://example.com/cat.png"));

// –ò–∑ Buffer
ctx.sendDocument(await MediaUpload.buffer(buffer, "file.pdf"));

// –ü–æ file_id (—É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω –≤ Telegram)
ctx.sendPhoto("AgACAgIAAxk...");
```

---

## [Session](/ru/plugins/official/session)

```ts
import { session } from "@gramio/session";

const bot = new Bot(process.env.BOT_TOKEN as string).extend(
    session({
        key: "session",
        initial: () => ({ count: 0 }),
    }),
);

bot.command("count", (ctx) => {
    ctx.session.count++;
    //    ^? { count: number }
    ctx.send(`–°—á—ë—Ç—á–∏–∫: ${ctx.session.count}`);
});
```

---

## [Scenes (–¥–∏–∞–ª–æ–≥–∏)](/ru/plugins/official/scenes)

```ts
import { Scene, scenes } from "@gramio/scenes";
import { session } from "@gramio/session";

const loginScene = new Scene("login")
    .step("message", (ctx) => {
        if (ctx.scene.step.firstTime) return ctx.send("–í–≤–µ–¥–∏—Ç–µ email:");
        return ctx.scene.update({ email: ctx.text });
    })
    .step("message", (ctx) =>
        ctx.send(`–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ: ${ctx.scene.state.email}`)
    );

const bot = new Bot(process.env.BOT_TOKEN as string)
    .extend(session())
    .extend(scenes([loginScene]));

bot.command("login", (ctx) => ctx.scene.enter(loginScene));
```

---

## [I18n](/ru/plugins/official/i18n)

```ts
import { defineI18n, type LanguageMap, type ShouldFollowLanguage } from "@gramio/i18n";
import { format, bold } from "gramio";

const en = {
    welcome: (name: string) => format`Hello, ${bold(name)}!`,
    items: (count: number) => `You have ${count} item${count === 1 ? "" : "s"}`,
} satisfies LanguageMap;

const ru = {
    welcome: (name: string) => format`–ü—Ä–∏–≤–µ—Ç, ${bold(name)}!`,
    items: (count: number) => `–£ –≤–∞—Å ${count} –ø—Ä–µ–¥–º–µ—Ç${count === 1 ? "" : "–æ–≤"}`,
} satisfies ShouldFollowLanguage<typeof en>; // –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –∫–ª—é—á–∞–º–∏/—Å–∏–≥–Ω–∞—Ç—É—Ä–∞–º–∏ en

const i18n = defineI18n({ primaryLanguage: "en", languages: { en, ru } });

const bot = new Bot(token)
    .derive((ctx) => ({
        t: i18n.buildT(ctx.from?.language_code ?? "en"),
    }));

bot.command("start", (ctx) =>
    ctx.send(ctx.t("welcome", ctx.from?.first_name ?? "–Ω–µ–∑–Ω–∞–∫–æ–º–µ—Ü"))
);
```

---

## [–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫](/ru/hooks/on-error)

```ts
// –ü–µ—Ä–µ—Ö–≤–∞—Ç –≤—Å–µ—Ö –æ—à–∏–±–æ–∫
bot.onError(({ context, kind, error }) => {
    console.error(kind, error.message);
    if (context.is("message")) context.send("–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫.");
});

// –¢–æ–ª—å–∫–æ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
bot.onError("message", ({ context, kind, error }) => {
    context.send(`${kind}: ${error.message}`);
});

// –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏
class NoRights extends Error {
    constructor(public role: "admin" | "moderator") {
        super();
    }
}

const bot = new Bot(process.env.BOT_TOKEN as string)
    .error("NO_RIGHTS", NoRights)
    .onError(({ kind, error, context }) => {
        if (kind === "NO_RIGHTS" && context.is("message"))
            context.send(`–í–∞–º –Ω—É–∂–Ω–∞ —Ä–æ–ª—å ¬´${error.role}¬ª.`);
    });
```

---

## [–•—É–∫–∏](/ru/hooks/overview)

```ts
bot.onStart((info) => console.log(`@${info.username} –∑–∞–ø—É—â–µ–Ω!`));

bot.onStop(() => console.log("–ó–∞–≤–µ—Ä—à–∞—é —Ä–∞–±–æ—Ç—É..."));

// –ü–µ—Ä–µ—Ö–≤–∞—Ç –∫–∞–∂–¥–æ–≥–æ API –∑–∞–ø—Ä–æ—Å–∞
bot.preRequest((ctx) => {
    console.log("–í—ã–∑—ã–≤–∞—é", ctx.method);
    return ctx;
});

// –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞–∂–¥–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
bot.onResponse((ctx) => {
    console.log(ctx.method, "‚Üí", ctx.response);
    return ctx;
});
```

---

## [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–ª–∞–≥–∏–Ω–∞](/ru/plugins/overview)

```ts
import { autoAnswerCallbackQuery } from "@gramio/auto-answer-callback-query";

bot.extend(autoAnswerCallbackQuery());
```

---

## [–ù–∞–ø–∏—Å–∞—Ç—å –ø–ª–∞–≥–∏–Ω](/ru/plugins/how-to-write)

```ts
import { Plugin } from "gramio";

const myPlugin = new Plugin("my-plugin").derive("message", (ctx) => ({
    isAdmin: ctx.from?.id === 123456789,
}));

bot.extend(myPlugin);

bot.on("message", (ctx) => {
    if (ctx.isAdmin) ctx.send("–ü—Ä–∏–≤–µ—Ç, –±–æ—Å—Å!");
    //     ^? boolean
});
```

---

## [Inline Query](/ru/triggers/inline-query)

```ts
bot.inlineQuery("cats", async (ctx) => {
    await ctx.answer(
        [
            ctx.buildInlineQueryResult.article({
                id: "1",
                title: "–§–∞–∫—Ç –æ –∫–æ—à–∫–∞—Ö",
                input_message_content: { message_text: "–ö–æ—à–∫–∏ –º—É—Ä–ª—ã—á—É—Ç –Ω–∞ —á–∞—Å—Ç–æ—Ç–µ 25 –ì—Ü." },
            }),
        ],
        { cache_time: 30 },
    );
});
```

---

## [Autoload –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤](/ru/plugins/official/autoload)

```ts
import { autoload } from "@gramio/autoload";

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ —Ñ–∞–π–ª—ã –∏–∑ ./src/commands/**/*.ts
const bot = new Bot(process.env.BOT_TOKEN as string).extend(autoload());
```

```ts
// src/commands/start.ts
import type { Bot } from "gramio";

export default (bot: Bot) => bot.command("start", (ctx) => ctx.send("–ü—Ä–∏–≤–µ—Ç!"));
```

---

## [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](/ru/testing)

```ts
import { describe, expect, it } from "bun:test";
import { Bot } from "gramio";
import { TelegramTestEnvironment } from "@gramio/test";

const bot = new Bot("test");
bot.command("start", (ctx) => ctx.send("–ü—Ä–∏–≤–µ—Ç!"));

const env = new TelegramTestEnvironment(bot);
const user = env.createUser({ first_name: "–ê–ª–∏—Å–∞" });

// –°–∏–º—É–ª–∏—Ä—É–µ–º –∫–æ–º–∞–Ω–¥—É /start
await user.sendMessage("/start");

// –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Ç–≤–µ—Ç
expect(env.apiCalls[0].method).toBe("sendMessage");
expect(env.apiCalls[0].params.text).toBe("–ü—Ä–∏–≤–µ—Ç!");
```

---

## [Webhook](/ru/updates/webhook)

–í GramIO –Ω–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ HTTP-—Å–µ—Ä–≤–µ—Ä–∞ ‚Äî –ø–æ–¥–∫–ª—é—á–∏—Ç–µ —Å–≤–æ–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `webhookHandler`:

```ts
import { Bot, webhookHandler } from "gramio";
import Fastify from "fastify";

const bot = new Bot(process.env.BOT_TOKEN as string);
const fastify = Fastify();

fastify.post("/webhook", webhookHandler(bot, "fastify"));
fastify.listen({ port: 3000, host: "::" });

bot.start({
    webhook: { url: "https://example.com/webhook" },
});
```

[–í—Å–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏ ‚Üí](/ru/updates/webhook) (Hono, Express, Elysia, Koa, Bun.serve, Deno.serve, node:http)
